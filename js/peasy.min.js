var exports,module,require,_ref,__indexOf=[].indexOf||function(item){for(var i=0,l=this.length;l>i;i++)if(i in this&&this[i]===item)return i;return-1},__slice=[].slice;"object"==typeof window&&(_ref=twoside("/peasy"),require=_ref.require,exports=_ref.exports,module=_ref.module),function(require,exports){var Parser,charset,digits,letterDigits,letters,lowers,uppers;return exports.Parser=Parser=function(){function Parser(){var self,some;self=this,this.ruleIndex=0,this.parse=function(data,root,cur){return null==root&&(root=self.root),null==cur&&(cur=0),self.data=data,self.cur=cur,self.ruleStack={},self.cache={},root()},this.rec=function(rule){var tag;return tag=self.ruleIndex++,function(){var cache,callStack,m,result,ruleStack,start,_base;if(ruleStack=self.ruleStack,cache=null!=(_base=self.cache)[tag]?(_base=self.cache)[tag]:_base[tag]={},start=self.cur,callStack=null!=ruleStack[start]?ruleStack[start]:ruleStack[start]=[],__indexOf.call(callStack,tag)<0){for(callStack.push(tag),m=null!=cache[start]?cache[start]:cache[start]=[void 0,start];;){if(self.cur=start,result=rule(),!result){result=m[0],self.cur=m[1];break}if(m[1]===self.cur){m[0]=result;break}m[0]=result,m[1]=self.cur}return callStack.pop(),result}return m=cache[start],self.cur=m[1],m[0]}},this.memo=function(rule){var tag;return tag=self.ruleIndex++,function(){var cache,m,result,start,_base;return cache=null!=(_base=self.cache)[tag]?(_base=self.cache)[tag]:_base[tag]={},start=self.cur,m=cache[start],m?(self.cur=m[1],m[0]):(result=rule(),self.cache[tag][start]=[result,self.cur],result)}},this.orp=function(){var item,items;return items=1<=arguments.length?__slice.call(arguments,0):[],items=function(){var _i,_len,_results;for(_results=[],_i=0,_len=items.length;_len>_i;_i++)item=items[_i],"string"==typeof item?_results.push(self.literal(item)):_results.push(item);return _results}(),function(){var length,result,start,_i,_len;for(start=self.cur,length=items.length,_i=0,_len=items.length;_len>_i;_i++)if(item=items[_i],self.cur=start,result=item())return result}},this.andp=function(){var item,items;return items=1<=arguments.length?__slice.call(arguments,0):[],items=function(){var _i,_len,_results;for(_results=[],_i=0,_len=items.length;_len>_i;_i++)item=items[_i],"string"==typeof item?_results.push(self.literal(item)):_results.push(item);return _results}(),function(){var result,_i,_len;for(_i=0,_len=items.length;_len>_i;_i++)if(item=items[_i],!(result=item()))return;return result}},this.notp=function(item){return"string"==typeof item&&(item=self.literal(item)),function(){return!item()}},this.may=function(item){return"string"==typeof item&&(item=self.literal(item)),function(){var start,x;return start=self.cur,(x=item())?x:(self.cur=start,!0)}},this.any=function(item){return"string"==typeof item&&(item=self.literal(item)),function(){var result,x;for(result=[];x=item();)result.push(x);return result}},some=function(item){return"string"==typeof item&&(item=self.literal(item)),function(){var result,x;if(x=item()){for(result=[x];x=item();)result.push(x);return result}}},this.times=function(item,n){return"string"==typeof item&&(item=self.literal(item)),function(){var i,x;for(i=0;i++<n;){if(!(x=item()))return;result.push(x)}return result}},this.list=function(item,separator){return null==separator&&(separator=self.spaces),"string"==typeof item&&(item=self.literal(item)),"string"==typeof separator&&(separator=self.literal(separator)),function(){var result,x;if(x=item()){for(result=[x];separator()&&(x=item());)result.push(x);return result}}},this.listn=function(item,n,separator){return null==separator&&(separator=self.spaces),"string"==typeof item&&(item=self.literal(item)),"string"==typeof separator&&(separator=self.literal(separator)),function(){var i,result,x;if(x=item()){for(result=[x],i=1;i++<n;){if(!separator()||!(x=item()))return;result.push(x)}return result}}},this.follow=function(item){return"string"==typeof item&&(item=self.literal(item)),function(){var start,x;return start=self.cur,x=item(),self.cur=start,x}},this.literal=function(string){return function(){var len,start,stop;return len=string.length,start=self.cur,self.data.slice(start,stop=start+len)===string?(self.cur=stop,!0):void 0}},this.char=function(c){return function(){return self.data[self.cur]===c?(self.cur++,c):void 0}},this.wrap=function(item,left,right){return null==left&&(left=self.spaces),null==right&&(right=self.spaces),"string"==typeof item&&(item=self.literal(item)),function(){var result;return left()&&(result=item()&&right())?result:void 0}},this.spaces=function(){var c,cur,data,len;for(data=self.data,len=0,cur=self.cur;;){if(!(c=data[cur++])||" "!==c&&"	"!==c)break;len++}return self.cur+=len,len+1},this.spaces1=function(){var c,cur,data,len;for(data=self.data,cur=self.cur,len=0;;){if(!(c=data[cur++])||" "!==c&&"	"!==c)break;lent++}return self.cur+=len,len},this.eoi=function(){return self.cur===self.data.length},this.identifierLetter=function(){var c;return c=self.data[self.cur],"$"===c||"_"===c||c>="a"&&"z">c||c>="A"&&"Z">=c||c>="0"&&"9">=c?(self.cur++,!0):void 0},this.followIdentifierLetter=function(){var c;return c=self.data[self.cur],("$"===c||"_"===c||c>="a"&&"z">c||c>="A"&&"Z">=c||c>="0"&&"9">=c)&&c},this.digit=function(){var c;return c=self.data[self.cur],c>="0"&&"9">=c?(self.cur++,c):void 0},this.letter=function(){var c;return c=self.data[self.cur],c>="a"&&"z">=c||c>="A"&&"Z">=c?(self.cur++,c):void 0},this.lower=function(){var c;return c=self.data[self.cur],c>="a"&&"z">=c?(self.cur++,c):void 0},this.upper=function(){var c;return c=self.data[self.cur],c>="A"&&"Z">=c?(self.cur++,c):void 0},this.identifier=function(){var c,cur,data,start;if(data=self.data,start=cur=self.cur,c=data[cur],c>="a"&&"z">=c||c>="A"&&"Z">=c||"$"===c||"_"===c){for(cur++;;){if(c=data[cur],!(c>="a"&&"z">=c||c>="A"&&"Z">=c||c>="0"&&"9">=c||"$"===c||"_"===c))break;cur++}return self.cur=cur,data.slice(start,cur)}},this.number=function(){var c,cur,data;if(data=self.data,cur=self.cur,c=data[cur],c>="0"&&"9">=c){for(cur++;;){if(c=data[cur],!(c>="0"&&"9">=c))break;cur++}return self.cur=cur,data.slice(start,cur)}},this.string=function(){var c,cur,quote,start,text;if(text=self.data,start=cur=self.cur,c=text[cur],'"'===c||"'"===c)for(quote=c,cur++;;)if(c=text[cur],"\\"===c)cur+=2;else{if(c===quote)return self.cur=cur+1,text.slice(start,+cur+1||9e9);if(!c)return}}}return Parser}(),exports.charset=charset=function(string){var dict,x,_i,_len;for(dict={},_i=0,_len=string.length;_len>_i;_i++)x=string[_i],dict[x]=!0;return dict},exports.inCharset=exports.in_=function(c,set){return set.hasOwnProperty(c)},exports.isdigit=function(c){return c>="0"&&"9">=c},exports.isletter=function(c){return c>="a"&&"z">=c||c>="A"&&"Z">=c},exports.islower=function(c){return c>="a"&&"z">=c},exports.isupper=function(c){return c>="A"&&"Z">=c},exports.isIdentifierLetter=function(c){return"$"===c||"_"===c||c>="a"&&"z">=c||c>="A"&&"Z">=c||c>="0"&&"9">=c},exports.digits=digits="0123456789",exports.lowers=lowers="abcdefghijklmnopqrstuvwxyz",exports.uppers=uppers="ABCDEFGHIJKLMNOPQRSTUVWXYZ",exports.letters=letters=lowers+uppers,exports.letterDigits=letterDigits=letterDigits}(require,exports,module);